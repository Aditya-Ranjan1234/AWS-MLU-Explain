import{SvelteComponent as t,init as e,safe_not_equal as o,element as s,space as n,svg_element as r,empty as l,text as i,HtmlTag as a,attr as c,add_render_callback as d,insert as f,append as h,add_resize_listener as m,action_destroyer as u,noop as p,detach as x,destroy_each as g,component_subscribe as b,set_data as y}from"../../node_modules/svelte/internal/index.mjs.js";import v from"../katexify.js";import{tooltip as $}from"../tooltip.js";import{interpretationData as k}from"../datasets.js";import{margin as j,mobile as q}from"../store.js";import{format as w}from"../../node_modules/d3-format/src/defaultLocale.js";import M from"../../node_modules/d3-array/src/min.js";import z from"../../node_modules/d3-array/src/max.js";import _ from"../../node_modules/d3-scale/src/linear.js";import C from"../../node_modules/d3-shape/src/line.js";function H(t,e,o){const s=t.slice();return s[14]=e[o],s}function T(t,e,o){const s=t.slice();return s[17]=e[o],s[19]=o,s}function W(t,e,o){const s=t.slice();return s[17]=e[o],s}function B(t){let e,o,s,n,l,a,d=t[17]+"";return{c(){e=r("g"),o=r("line"),n=r("text"),l=i(d),c(o,"class","grid-line svelte-1tl3iva"),c(o,"x1","0"),c(o,"x2","0"),c(o,"y1","0"),c(o,"y2",s=-t[0]+t[4].bottom+t[4].top),c(o,"stroke","black"),c(o,"stroke-dasharray","4"),c(n,"class","axis-text svelte-1tl3iva"),c(n,"y","15"),c(n,"text-anchor","middle"),c(e,"transform",a=`translate(${t[3](t[17])+0} ${t[0]-t[4].bottom})`)},m(t,s){f(t,e,s),h(e,o),h(e,n),h(n,l)},p(t,n){17&n&&s!==(s=-t[0]+t[4].bottom+t[4].top)&&c(o,"y2",s),8&n&&d!==(d=t[17]+"")&&y(l,d),25&n&&a!==(a=`translate(${t[3](t[17])+0} ${t[0]-t[4].bottom})`)&&c(e,"transform",a)},d(t){t&&x(e)}}}function F(t){let e,o,s,n,l=t[19]%2==0&&function(t){let e,o,s=(t[6]?t[8](t[17]):t[7](t[17]))+"";return{c(){e=r("text"),o=i(s),c(e,"class","axis-text svelte-1tl3iva"),c(e,"y","0"),c(e,"text-anchor","end"),c(e,"dominant-baseline","middle")},m(t,s){f(t,e,s),h(e,o)},p(t,e){68&e&&s!==(s=(t[6]?t[8](t[17]):t[7](t[17]))+"")&&y(o,s)},d(t){t&&x(e)}}}(t);return{c(){e=r("g"),o=r("line"),l&&l.c(),c(o,"class","grid-line svelte-1tl3iva"),c(o,"x1",5),c(o,"x2",s=t[1]-t[4].right),c(o,"y1","0"),c(o,"y2","0"),c(o,"stroke","black"),c(o,"stroke-dasharray","4"),c(e,"transform",n=`translate(${t[4].left-5} ${t[2](t[17])+0})`)},m(t,s){f(t,e,s),h(e,o),l&&l.m(e,null)},p(t,r){18&r&&s!==(s=t[1]-t[4].right)&&c(o,"x2",s),t[19]%2==0&&l.p(t,r),20&r&&n!==(n=`translate(${t[4].left-5} ${t[2](t[17])+0})`)&&c(e,"transform",n)},d(t){t&&x(e),l&&l.d()}}}function I(t){let e,o,s;return{c(){e=r("circle"),c(e,"class","interpretation-circle svelte-1tl3iva"),c(e,"r","4.5"),c(e,"cx",o=t[3](t[14].sqft)),c(e,"cy",s=t[2](t[14].price))},m(t,o){f(t,e,o)},p(t,n){8&n&&o!==(o=t[3](t[14].sqft))&&c(e,"cx",o),4&n&&s!==(s=t[2](t[14].price))&&c(e,"cy",s)},d(t){t&&x(e)}}}function L(t){let e,o,b,y,j,q,w,M,z,_,C,L,R,A,E,P,S,D,G,J,K,N,Q,U,V,X,Y,Z,tt,et,ot,st,nt,rt,lt,it,at,ct,dt,ft,ht,mt,ut,pt,xt,gt,bt,yt,vt,$t,kt,jt,qt,wt,Mt,zt,_t,Ct,Ht,Tt,Wt,Bt,Ft,It,Lt,Ot=v(`\\begin{aligned} \\text{house price} = ${Math.round(t[9])} + ${Math.round(O)} * sqft \\end{aligned}`,!1)+"",Rt=t[7](Math.round(O))+"",At=t[7](Math.round(O))+"",Et=t[7](Math.round(t[9]))+"",Pt=v("sqft = 0",!1)+"",St=t[3].ticks(),Dt=[];for(let e=0;e<St.length;e+=1)Dt[e]=B(W(t,St,e));let Gt=t[2].ticks(),Jt=[];for(let e=0;e<Gt.length;e+=1)Jt[e]=F(T(t,Gt,e));let Kt=k,Nt=[];for(let e=0;e<Kt.length;e+=1)Nt[e]=I(H(t,Kt,e));return{c(){e=s("p"),e.innerHTML='<span class="interpretation-header">A Regression Model With One Continuous Feature</span>',o=n(),b=s("div"),y=r("svg");for(let t=0;t<Dt.length;t+=1)Dt[t].c();j=l();for(let t=0;t<Jt.length;t+=1)Jt[t].c();q=r("line"),_=r("line");for(let t=0;t<Nt.length;t+=1)Nt[t].c();E=r("path"),S=r("path"),G=r("text"),J=i("Home Size (sqft)"),Q=r("text"),U=i("House Price ($)"),X=r("text"),Y=i("Regression Model With One Continuous Feature"),st=n(),nt=s("br"),rt=n(),lt=s("p"),it=s("span"),it.textContent="Example:",at=s("br"),ct=n(),dt=new a(!1),ft=n(),ht=s("br"),mt=n(),ut=s("p"),pt=s("span"),pt.textContent="Interpretation",xt=i(": This model summarizes the average\n  house prices across differently sized houses ("),gt=s("span"),bt=i(") as\n  measured in square feet.\n  "),yt=s("br"),vt=s("br"),$t=i("\n  The coefficient, "),kt=i(Rt),jt=i(", represents the average\n  difference in housing price for one-unit difference in the square-footage of\n  the house. In other words, we expect each additional square-foot, on average,\n  to raise the price of a house by "),qt=i(At),wt=i(".\n  "),Mt=s("br"),zt=s("br"),_t=i(" The intercept, "),Ct=i(Et),Ht=i(", represents the\n  predicted housing price for houses with "),Tt=new a(!1),Wt=i(",\n  that is, it represents the average price of a zero square-foot house. Because\n  this value doesn't make much intuitive sense, it's common for models to be\n  transformed and standardized before carrying out a regression model."),Bt=s("sup"),Ft=s("span"),Ft.textContent="[â„¹]",c(e,"class","tab-text"),c(q,"class","axis-line"),c(q,"y1",w=t[0]-t[4].bottom),c(q,"y2",M=t[0]-t[4].bottom),c(q,"x1",z=t[4].left),c(q,"x2",t[1]),c(q,"stroke","black"),c(q,"stroke-width","1"),c(_,"class","axis-line"),c(_,"y1",C=t[4].top),c(_,"y2",L=t[0]-t[4].bottom),c(_,"x1",R=t[4].left),c(_,"x2",A=t[4].left),c(_,"stroke","black"),c(_,"stroke-width","1"),c(E,"class","outline-line svelte-1tl3iva"),c(E,"d",P=t[5](t[10])),c(S,"class","path-line svelte-1tl3iva"),c(S,"d",D=t[5](t[10])),c(G,"class","interpretation-axis-label svelte-1tl3iva"),c(G,"y",K=t[0]+t[4].bottom/2),c(G,"x",N=(t[1]+t[4].left)/2),c(G,"text-anchor","middle"),c(Q,"class","interpretation-axis-label svelte-1tl3iva"),c(Q,"y",10),c(Q,"x",V=-t[0]/2),c(Q,"text-anchor","middle"),c(Q,"transform","rotate(-90)"),c(X,"class","interpretation-title svelte-1tl3iva"),c(X,"y",Z=t[4].top/2),c(X,"x",tt=t[4].left),c(y,"width",t[1]),c(y,"height",et=t[0]+t[4].top+t[4].bottom),c(b,"id","scatter-chart"),c(b,"class","svelte-1tl3iva"),d((()=>t[11].call(b))),c(it,"class","bold"),dt.a=null,c(lt,"class","tab-text"),c(pt,"class","bold"),c(gt,"class","dot-without svelte-1tl3iva"),Tt.a=Wt,c(Ft,"class","info-tooltip"),c(Ft,"title","By scaling and standardizing our data beforehand, this intercept will come to represent the average price in our dataset."),c(ut,"class","tab-text")},m(s,n){f(s,e,n),f(s,o,n),f(s,b,n),h(b,y);for(let t=0;t<Dt.length;t+=1)Dt[t].m(y,null);h(y,j);for(let t=0;t<Jt.length;t+=1)Jt[t].m(y,null);h(y,q),h(y,_);for(let t=0;t<Nt.length;t+=1)Nt[t].m(y,null);h(y,E),h(y,S),h(y,G),h(G,J),h(y,Q),h(Q,U),h(y,X),h(X,Y),ot=m(b,t[11].bind(b)),f(s,st,n),f(s,nt,n),f(s,rt,n),f(s,lt,n),h(lt,it),h(lt,at),h(lt,ct),dt.m(Ot,lt),f(s,ft,n),f(s,ht,n),f(s,mt,n),f(s,ut,n),h(ut,pt),h(ut,xt),h(ut,gt),h(ut,bt),h(ut,yt),h(ut,vt),h(ut,$t),h(ut,kt),h(ut,jt),h(ut,qt),h(ut,wt),h(ut,Mt),h(ut,zt),h(ut,_t),h(ut,Ct),h(ut,Ht),Tt.m(Pt,ut),h(ut,Wt),h(ut,Bt),h(Bt,Ft),It||(Lt=u($.call(null,Ft)),It=!0)},p(t,[e]){if(25&e){let o;for(St=t[3].ticks(),o=0;o<St.length;o+=1){const s=W(t,St,o);Dt[o]?Dt[o].p(s,e):(Dt[o]=B(s),Dt[o].c(),Dt[o].m(y,j))}for(;o<Dt.length;o+=1)Dt[o].d(1);Dt.length=St.length}if(470&e){let o;for(Gt=t[2].ticks(),o=0;o<Gt.length;o+=1){const s=T(t,Gt,o);Jt[o]?Jt[o].p(s,e):(Jt[o]=F(s),Jt[o].c(),Jt[o].m(y,q))}for(;o<Jt.length;o+=1)Jt[o].d(1);Jt.length=Gt.length}if(17&e&&w!==(w=t[0]-t[4].bottom)&&c(q,"y1",w),17&e&&M!==(M=t[0]-t[4].bottom)&&c(q,"y2",M),16&e&&z!==(z=t[4].left)&&c(q,"x1",z),2&e&&c(q,"x2",t[1]),16&e&&C!==(C=t[4].top)&&c(_,"y1",C),17&e&&L!==(L=t[0]-t[4].bottom)&&c(_,"y2",L),16&e&&R!==(R=t[4].left)&&c(_,"x1",R),16&e&&A!==(A=t[4].left)&&c(_,"x2",A),12&e){let o;for(Kt=k,o=0;o<Kt.length;o+=1){const s=H(t,Kt,o);Nt[o]?Nt[o].p(s,e):(Nt[o]=I(s),Nt[o].c(),Nt[o].m(y,E))}for(;o<Nt.length;o+=1)Nt[o].d(1);Nt.length=Kt.length}32&e&&P!==(P=t[5](t[10]))&&c(E,"d",P),32&e&&D!==(D=t[5](t[10]))&&c(S,"d",D),17&e&&K!==(K=t[0]+t[4].bottom/2)&&c(G,"y",K),18&e&&N!==(N=(t[1]+t[4].left)/2)&&c(G,"x",N),1&e&&V!==(V=-t[0]/2)&&c(Q,"x",V),16&e&&Z!==(Z=t[4].top/2)&&c(X,"y",Z),16&e&&tt!==(tt=t[4].left)&&c(X,"x",tt),2&e&&c(y,"width",t[1]),17&e&&et!==(et=t[0]+t[4].top+t[4].bottom)&&c(y,"height",et)},i:p,o:p,d(t){t&&x(e),t&&x(o),t&&x(b),g(Dt,t),g(Jt,t),g(Nt,t),ot(),t&&x(st),t&&x(nt),t&&x(rt),t&&x(lt),t&&x(ft),t&&x(ht),t&&x(mt),t&&x(ut),It=!1,Lt()}}}const O=742.33;function R(t,e,o){let s,n,r,l,i;b(t,j,(t=>o(4,l=t))),b(t,q,(t=>o(6,i=t)));const a=w("$,"),c=w("$.3s");let d=500,f=500;M(k,(t=>t.sqft));const h=z(k,(t=>t.sqft)),m=-39591.3,u=[{x:55,y:55*O+m},{x:h,y:h*O+m}];return t.$$.update=()=>{18&t.$$.dirty&&o(3,s=_().domain([0,h]).range([l.left,f-l.right])),17&t.$$.dirty&&o(2,n=_().domain([0,z(k,(t=>t.price))]).range([d-l.bottom,l.top])),12&t.$$.dirty&&o(5,r=C().x((t=>s(t.x))).y((t=>n(t.y))))},[d,f,n,s,l,r,i,a,c,m,u,function(){f=this.offsetWidth,d=this.offsetHeight,o(1,f),o(0,d)}]}class A extends t{constructor(t){super(),e(this,t,R,L,o,{})}}export{A as default};
