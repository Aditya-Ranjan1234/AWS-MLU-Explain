import{SvelteComponent as t,init as e,safe_not_equal as o,element as s,space as n,svg_element as r,empty as l,text as a,HtmlTag as i,attr as c,add_render_callback as f,insert as h,append as d,add_resize_listener as p,action_destroyer as m,noop as u,detach as g,destroy_each as x,component_subscribe as b,set_data as y}from"../../node_modules/svelte/internal/index.mjs.js";import v from"../katexify.js";import{tooltip as w}from"../tooltip.js";import{interpretationData as $}from"../datasets.js";import{margin as k,mobile as q}from"../store.js";import{format as M}from"../../node_modules/d3-format/src/defaultLocale.js";import j from"../../node_modules/d3-array/src/max.js";import T from"../../node_modules/d3-scale/src/linear.js";import z from"../../node_modules/d3-shape/src/line.js";function I(t,e,o){const s=t.slice();return s[15]=e[o],s}function _(t,e,o){const s=t.slice();return s[18]=e[o],s[20]=o,s}function H(t,e,o){const s=t.slice();return s[18]=e[o],s}function C(t){let e,o,s,n,l,i,f=t[18]+"";return{c(){e=r("g"),o=r("line"),n=r("text"),l=a(f),c(o,"class","grid-line svelte-rsa05g"),c(o,"x1","0"),c(o,"x2","0"),c(o,"y1","0"),c(o,"y2",s=-t[0]+t[4].bottom+t[4].top),c(o,"stroke","black"),c(o,"stroke-dasharray","4"),c(n,"class","axis-text svelte-rsa05g"),c(n,"y","15"),c(n,"text-anchor","middle"),c(e,"transform",i=`translate(${t[3](t[18])+0} ${t[0]-t[4].bottom})`)},m(t,s){h(t,e,s),d(e,o),d(e,n),d(n,l)},p(t,n){17&n&&s!==(s=-t[0]+t[4].bottom+t[4].top)&&c(o,"y2",s),8&n&&f!==(f=t[18]+"")&&y(l,f),25&n&&i!==(i=`translate(${t[3](t[18])+0} ${t[0]-t[4].bottom})`)&&c(e,"transform",i)},d(t){t&&g(e)}}}function W(t){let e,o,s,n,l=t[20]%2==0&&function(t){let e,o,s=(t[6]?t[8](t[18]):t[7](t[18]))+"";return{c(){e=r("text"),o=a(s),c(e,"class","axis-text svelte-rsa05g"),c(e,"y","0"),c(e,"text-anchor","end"),c(e,"dominant-baseline","middle")},m(t,s){h(t,e,s),d(e,o)},p(t,e){68&e&&s!==(s=(t[6]?t[8](t[18]):t[7](t[18]))+"")&&y(o,s)},d(t){t&&g(e)}}}(t);return{c(){e=r("g"),o=r("line"),l&&l.c(),c(o,"class","grid-line svelte-rsa05g"),c(o,"x1",5),c(o,"x2",s=t[1]-t[4].right),c(o,"y1","0"),c(o,"y2","0"),c(o,"stroke","black"),c(o,"stroke-dasharray","4"),c(e,"transform",n=`translate(${t[4].left-5} ${t[2](t[18])+0})`)},m(t,s){h(t,e,s),d(e,o),l&&l.m(e,null)},p(t,r){18&r&&s!==(s=t[1]-t[4].right)&&c(o,"x2",s),t[20]%2==0&&l.p(t,r),20&r&&n!==(n=`translate(${t[4].left-5} ${t[2](t[18])+0})`)&&c(e,"transform",n)},d(t){t&&g(e),l&&l.d()}}}function L(t){let e,o,s;return{c(){e=r("circle"),c(e,"class","interpretation-circle svelte-rsa05g"),c(e,"r","4.5"),c(e,"cx",o=t[3](t[15].sqft)),c(e,"cy",s=t[2](t[15].price)),c(e,"fill",0===t[15].pool?"#ff9900":"#003181")},m(t,o){h(t,e,o)},p(t,n){8&n&&o!==(o=t[3](t[15].sqft))&&c(e,"cx",o),4&n&&s!==(s=t[2](t[15].price))&&c(e,"cy",s)},d(t){t&&g(e)}}}function R(t){let e,o,b,y,k,q,M,j,T,z,R,E,P,S,V,D,F,G,J,K,N,O,Q,U,X,Y,Z,tt,et,ot,st,nt,rt,lt,at,it,ct,ft,ht,dt,pt,mt,ut,gt,xt,bt,yt,vt,wt,$t,kt,qt,Mt,jt,Tt,zt,It,_t,Ht,Ct,Wt,Lt,Rt,At,Bt,Et,Pt,St,Vt,Dt,Ft,Gt,Jt,Kt,Nt,Ot,Qt,Ut,Xt,Yt,Zt,te,ee,oe,se,ne,re,le,ae,ie,ce,fe,he,de,pe=v(`\\begin{aligned} \\text{house price}=${Math.round(t[9])} + ${Math.round(A)}*sqft + ${Math.round(B)}*pool  ${Math.round(t[10])}*(sqft:pool) \\end{aligned}`,!1)+"",me=v("sqft",!1)+"",ue=v("(sqft:pool) ",!1)+"",ge=v("(sqft:pool)",!1)+"",xe=t[7](Math.round(t[10]))+"",be=v("sqft",!1)+"",ye=t[7](Math.round(t[9]))+"",ve=v("pool",!1)+"",we=t[7](Math.round(B))+"",$e=v("sqft",!1)+"",ke=v("sqft",!1)+"",qe=t[7](Math.round(A))+"",Me=v("pool= 0",!1)+"",je=t[3].ticks(),Te=[];for(let e=0;e<je.length;e+=1)Te[e]=C(H(t,je,e));let ze=t[2].ticks(),Ie=[];for(let e=0;e<ze.length;e+=1)Ie[e]=W(_(t,ze,e));let _e=$,He=[];for(let e=0;e<_e.length;e+=1)He[e]=L(I(t,_e,e));return{c(){e=s("p"),e.innerHTML='<span class="interpretation-header">A Regression Model With Interaction Terms</span>',o=n(),b=s("div"),y=r("svg");for(let t=0;t<Te.length;t+=1)Te[t].c();k=l();for(let t=0;t<Ie.length;t+=1)Ie[t].c();q=r("line"),z=r("line");for(let t=0;t<He.length;t+=1)He[t].c();V=r("path"),F=r("path"),J=r("path"),N=r("path"),Q=r("text"),U=a("Home Size (sqft)"),Z=r("text"),tt=a("House Price ($)"),ot=r("text"),st=a("Regression Model With Interaction"),it=n(),ct=s("br"),ft=n(),ht=s("p"),dt=s("span"),dt.textContent="Example:",pt=s("br"),mt=n(),ut=new i(!1),gt=n(),xt=s("br"),bt=n(),yt=s("p"),vt=s("span"),vt.textContent="Interpretation",wt=a(": If we believe that the slope for "),$t=new i(!1),kt=a(" should differ between houses that do have pools and houses that do not, we can\n  add an interaction term to our model, "),qt=new i(!1),Mt=a(".\n  "),jt=s("br"),Tt=s("br"),zt=a("\n  The coefficient of the interaction term "),It=new i(!1),_t=a(", "),Ht=a(xe),Ct=a(", represents the difference in\n  the slope for "),Wt=new i(!1),Lt=a(", comparing houses that do and \n  do not have pools. Visually, this represents the difference between the slopes \n  of the two lines,\n  "),Rt=s("span"),At=a("\n  and "),Bt=s("span"),Et=a(", above.\n  "),Pt=s("br"),St=s("br"),Vt=a("\n  The intercept, "),Dt=a(ye),Ft=a(", represents the predicted\n  housing price for houses with no pools and a square-footage of zero."),Gt=s("sup"),Jt=s("span"),Jt.textContent="[â„¹]",Kt=n(),Nt=s("br"),Ot=s("br"),Qt=a("\n  The coefficient of "),Ut=new i(!1),Xt=a(", "),Yt=a(we),Zt=a(", represents the average expected difference in houses of the same size (0\n  "),te=new i(!1),ee=a(") that differed in whether or not they had a pool.\n  (It's not super useful since we don't have houses with 0 square-feet).\n  "),oe=s("br"),se=s("br"),ne=a("\n  The coefficient of "),re=new i(!1),le=a(", "),ae=a(qe),ie=a(", represents the average expected difference in housing price for houses\n  that do not have a pool ("),ce=new i(!1),fe=a(") but differ in\n  size by one square-foot."),c(e,"class","tab-text"),c(q,"class","axis-line"),c(q,"y1",M=t[0]-t[4].bottom),c(q,"y2",j=t[0]-t[4].bottom),c(q,"x1",T=t[4].left),c(q,"x2",t[1]),c(q,"stroke","black"),c(q,"stroke-width","1"),c(z,"class","axis-line"),c(z,"y1",R=t[4].top),c(z,"y2",E=t[0]-t[4].bottom),c(z,"x1",P=t[4].left),c(z,"x2",S=t[4].left),c(z,"stroke","black"),c(z,"stroke-width","1"),c(V,"class","outline-line svelte-rsa05g"),c(V,"d",D=t[5](t[11])),c(F,"class","path-line-sqft svelte-rsa05g"),c(F,"d",G=t[5](t[11])),c(J,"class","outline-line svelte-rsa05g"),c(J,"d",K=t[5](t[12])),c(N,"class","path-line-pool svelte-rsa05g"),c(N,"d",O=t[5](t[12])),c(Q,"class","interpretation-axis-label svelte-rsa05g"),c(Q,"y",X=t[0]+t[4].bottom/2),c(Q,"x",Y=(t[1]+t[4].left)/2),c(Q,"text-anchor","middle"),c(Z,"class","interpretation-axis-label svelte-rsa05g"),c(Z,"y",10),c(Z,"x",et=-t[0]/2),c(Z,"text-anchor","middle"),c(Z,"transform","rotate(-90)"),c(ot,"class","interpretation-title svelte-rsa05g"),c(ot,"y",nt=t[4].top/2),c(ot,"x",rt=t[4].left),c(y,"width",t[1]),c(y,"height",lt=t[0]+t[4].top+t[4].bottom),c(b,"id","scatter-chart"),c(b,"class","svelte-rsa05g"),f((()=>t[13].call(b))),c(dt,"class","bold"),ut.a=null,c(ht,"class","tab-text"),c(vt,"class","bold"),$t.a=kt,qt.a=Mt,It.a=_t,Wt.a=Lt,c(Rt,"class","line-with svelte-rsa05g"),c(Bt,"class","line-without svelte-rsa05g"),c(Jt,"class","info-tooltip"),c(Jt,"title","Because this value doesn't make much intuitive sense, it's common for the features to be centered at zero."),Ut.a=Xt,te.a=ee,re.a=le,ce.a=fe,c(yt,"class","tab-text")},m(s,n){h(s,e,n),h(s,o,n),h(s,b,n),d(b,y);for(let t=0;t<Te.length;t+=1)Te[t].m(y,null);d(y,k);for(let t=0;t<Ie.length;t+=1)Ie[t].m(y,null);d(y,q),d(y,z);for(let t=0;t<He.length;t+=1)He[t].m(y,null);d(y,V),d(y,F),d(y,J),d(y,N),d(y,Q),d(Q,U),d(y,Z),d(Z,tt),d(y,ot),d(ot,st),at=p(b,t[13].bind(b)),h(s,it,n),h(s,ct,n),h(s,ft,n),h(s,ht,n),d(ht,dt),d(ht,pt),d(ht,mt),ut.m(pe,ht),h(s,gt,n),h(s,xt,n),h(s,bt,n),h(s,yt,n),d(yt,vt),d(yt,wt),$t.m(me,yt),d(yt,kt),qt.m(ue,yt),d(yt,Mt),d(yt,jt),d(yt,Tt),d(yt,zt),It.m(ge,yt),d(yt,_t),d(yt,Ht),d(yt,Ct),Wt.m(be,yt),d(yt,Lt),d(yt,Rt),d(yt,At),d(yt,Bt),d(yt,Et),d(yt,Pt),d(yt,St),d(yt,Vt),d(yt,Dt),d(yt,Ft),d(yt,Gt),d(Gt,Jt),d(yt,Kt),d(yt,Nt),d(yt,Ot),d(yt,Qt),Ut.m(ve,yt),d(yt,Xt),d(yt,Yt),d(yt,Zt),te.m($e,yt),d(yt,ee),d(yt,oe),d(yt,se),d(yt,ne),re.m(ke,yt),d(yt,le),d(yt,ae),d(yt,ie),ce.m(Me,yt),d(yt,fe),he||(de=m(w.call(null,Jt)),he=!0)},p(t,[e]){if(25&e){let o;for(je=t[3].ticks(),o=0;o<je.length;o+=1){const s=H(t,je,o);Te[o]?Te[o].p(s,e):(Te[o]=C(s),Te[o].c(),Te[o].m(y,k))}for(;o<Te.length;o+=1)Te[o].d(1);Te.length=je.length}if(470&e){let o;for(ze=t[2].ticks(),o=0;o<ze.length;o+=1){const s=_(t,ze,o);Ie[o]?Ie[o].p(s,e):(Ie[o]=W(s),Ie[o].c(),Ie[o].m(y,q))}for(;o<Ie.length;o+=1)Ie[o].d(1);Ie.length=ze.length}if(17&e&&M!==(M=t[0]-t[4].bottom)&&c(q,"y1",M),17&e&&j!==(j=t[0]-t[4].bottom)&&c(q,"y2",j),16&e&&T!==(T=t[4].left)&&c(q,"x1",T),2&e&&c(q,"x2",t[1]),16&e&&R!==(R=t[4].top)&&c(z,"y1",R),17&e&&E!==(E=t[0]-t[4].bottom)&&c(z,"y2",E),16&e&&P!==(P=t[4].left)&&c(z,"x1",P),16&e&&S!==(S=t[4].left)&&c(z,"x2",S),12&e){let o;for(_e=$,o=0;o<_e.length;o+=1){const s=I(t,_e,o);He[o]?He[o].p(s,e):(He[o]=L(s),He[o].c(),He[o].m(y,V))}for(;o<He.length;o+=1)He[o].d(1);He.length=_e.length}32&e&&D!==(D=t[5](t[11]))&&c(V,"d",D),32&e&&G!==(G=t[5](t[11]))&&c(F,"d",G),32&e&&K!==(K=t[5](t[12]))&&c(J,"d",K),32&e&&O!==(O=t[5](t[12]))&&c(N,"d",O),17&e&&X!==(X=t[0]+t[4].bottom/2)&&c(Q,"y",X),18&e&&Y!==(Y=(t[1]+t[4].left)/2)&&c(Q,"x",Y),1&e&&et!==(et=-t[0]/2)&&c(Z,"x",et),16&e&&nt!==(nt=t[4].top/2)&&c(ot,"y",nt),16&e&&rt!==(rt=t[4].left)&&c(ot,"x",rt),2&e&&c(y,"width",t[1]),17&e&&lt!==(lt=t[0]+t[4].top+t[4].bottom)&&c(y,"height",lt)},i:u,o:u,d(t){t&&g(e),t&&g(o),t&&g(b),x(Te,t),x(Ie,t),x(He,t),at(),t&&g(it),t&&g(ct),t&&g(ft),t&&g(ht),t&&g(gt),t&&g(xt),t&&g(bt),t&&g(yt),he=!1,de()}}}const A=898.5,B=217110.5;function E(t,e,o){let s,n,r,l,a;b(t,k,(t=>o(4,l=t))),b(t,q,(t=>o(6,a=t)));const i=M("$,"),c=M("$.3s");let f=500,h=500;const d=j($,(t=>t.sqft)),p=-70296.3,m=-347.4,u=[{x:82,y:82*A+p},{x:d,y:d*A+p}],g=[{x:0,y:0*A+B+p},{x:d,y:d*A+B+m*d+p}];return t.$$.update=()=>{18&t.$$.dirty&&o(3,s=T().domain([0,d]).range([l.left,h-l.right])),17&t.$$.dirty&&o(2,n=T().domain([0,j($,(t=>t.price))]).range([f-l.bottom,l.top])),12&t.$$.dirty&&o(5,r=z().x((t=>s(t.x))).y((t=>n(t.y))))},[f,h,n,s,l,r,a,i,c,p,m,u,g,function(){h=this.offsetWidth,f=this.offsetHeight,o(1,h),o(0,f)}]}class P extends t{constructor(t){super(),e(this,t,E,R,o,{})}}export{P as default};
