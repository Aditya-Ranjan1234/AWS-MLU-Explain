import{SvelteComponent as t,init as e,safe_not_equal as o,element as n,space as s,svg_element as l,empty as r,text as i,HtmlTag as a,attr as c,add_render_callback as d,insert as h,append as m,add_resize_listener as f,action_destroyer as p,noop as u,detach as g,destroy_each as x,component_subscribe as b,onMount as y,set_store_value as v,set_data as w}from"../../node_modules/svelte/internal/index.mjs.js";import $ from"../katexify.js";import{tooltip as k}from"../tooltip.js";import{interpretationData as j}from"../datasets.js";import{margin as M,tabHeight as T,tabWidth as H,mobile as _}from"../store.js";import{format as B}from"../../node_modules/d3-format/src/defaultLocale.js";import C from"../../node_modules/d3-scale/src/linear.js";import P from"../../node_modules/d3-array/src/max.js";import I from"../../node_modules/d3-shape/src/line.js";function q(t,e,o){const n=t.slice();return n[11]=e[o],n}function E(t,e,o){const n=t.slice();return n[14]=e[o],n[16]=o,n}function L(t,e,o){const n=t.slice();return n[14]=e[o],n}function R(t){let e,o,n=t[14]+"";return{c(){e=l("text"),o=i(n),c(e,"class","axis-text svelte-1173fdn"),c(e,"y","15"),c(e,"text-anchor","middle")},m(t,n){h(t,e,n),m(e,o)},p(t,e){2&e&&n!==(n=t[14]+"")&&w(o,n)},d(t){t&&g(e)}}}function S(t){let e,o,n,s,r=[0,1].includes(t[14]),i=r&&R(t);return{c(){e=l("g"),o=l("line"),i&&i.c(),c(o,"class","grid-line svelte-1173fdn"),c(o,"x1","0"),c(o,"x2","0"),c(o,"y1","0"),c(o,"y2",n=-t[3]+t[2].bottom+t[2].top),c(o,"stroke","black"),c(o,"stroke-dasharray","4"),c(e,"transform",s=`translate(${t[1](t[14])+0} ${t[3]-t[2].bottom})`)},m(t,n){h(t,e,n),m(e,o),i&&i.m(e,null)},p(t,l){12&l&&n!==(n=-t[3]+t[2].bottom+t[2].top)&&c(o,"y2",n),2&l&&(r=[0,1].includes(t[14])),r?i?i.p(t,l):(i=R(t),i.c(),i.m(e,null)):i&&(i.d(1),i=null),14&l&&s!==(s=`translate(${t[1](t[14])+0} ${t[3]-t[2].bottom})`)&&c(e,"transform",s)},d(t){t&&g(e),i&&i.d()}}}function W(t){let e,o,n,s,r=t[16]%2==0&&function(t){let e,o,n=(t[6]?t[8](t[14]):t[7](t[14]))+"";return{c(){e=l("text"),o=i(n),c(e,"class","axis-text svelte-1173fdn"),c(e,"y","0"),c(e,"text-anchor","end"),c(e,"dominant-baseline","middle")},m(t,n){h(t,e,n),m(e,o)},p(t,e){65&e&&n!==(n=(t[6]?t[8](t[14]):t[7](t[14]))+"")&&w(o,n)},d(t){t&&g(e)}}}(t);return{c(){e=l("g"),o=l("line"),r&&r.c(),c(o,"class","grid-line svelte-1173fdn"),c(o,"x1",5),c(o,"x2",n=t[4]-t[2].right),c(o,"y1","0"),c(o,"y2","0"),c(o,"stroke","black"),c(o,"stroke-dasharray","4"),c(e,"transform",s=`translate(${t[2].left-5} ${t[0](t[14])+0})`)},m(t,n){h(t,e,n),m(e,o),r&&r.m(e,null)},p(t,l){20&l&&n!==(n=t[4]-t[2].right)&&c(o,"x2",n),t[16]%2==0&&r.p(t,l),5&l&&s!==(s=`translate(${t[2].left-5} ${t[0](t[14])+0})`)&&c(e,"transform",s)},d(t){t&&g(e),r&&r.d()}}}function z(t){let e,o,n;return{c(){e=l("circle"),c(e,"class","interpretation-circle svelte-1173fdn"),c(e,"r","4.5"),c(e,"cx",o=t[1](t[11].pool)),c(e,"cy",n=t[0](t[11].price)),c(e,"fill",0===t[11].pool?"#ff9900":"#003181")},m(t,o){h(t,e,o)},p(t,s){2&s&&o!==(o=t[1](t[11].pool))&&c(e,"cx",o),1&s&&n!==(n=t[0](t[11].price))&&c(e,"cy",n)},d(t){t&&g(e)}}}function A(t){let e,o,b,y,v,w,M,T,H,_,B,C,P,I,R,A,O,U,Y,G,J,K,N,Q,V,X,Z,tt,et,ot,nt,st,lt,rt,it,at,ct,dt,ht,mt,ft,pt,ut,gt,xt,bt,yt,vt,wt,$t,kt,jt,Mt,Tt,Ht,_t,Bt,Ct,Pt,It,qt,Et,Lt,Rt,St,Wt,zt,At,Dt,Ft,Ot,Ut,Yt,Gt,Jt,Kt=$(`\\begin{aligned} \\text{house price} = ${Math.round(D)} + ${Math.round(F)} * pool \\end{aligned}`,!1)+"",Nt=t[7](Math.round(D))+"",Qt=$("pool",!1)+"",Vt=$("pool=1",!1)+"",Xt=t[7](Math.round(D))+"",Zt=t[7](Math.round(F))+"",te=t[7](Math.round(F+D))+"",ee=$("pool",!1)+"",oe=t[7](Math.round(F))+"",ne=t[1].ticks(),se=[];for(let e=0;e<ne.length;e+=1)se[e]=S(L(t,ne,e));let le=t[0].ticks(),re=[];for(let e=0;e<le.length;e+=1)re[e]=W(E(t,le,e));let ie=j,ae=[];for(let e=0;e<ie.length;e+=1)ae[e]=z(q(t,ie,e));return{c(){e=n("p"),e.innerHTML='<span class="interpretation-header">A Regression Model With One Binary Feature</span>',o=s(),b=n("div"),y=l("svg");for(let t=0;t<se.length;t+=1)se[t].c();v=r();for(let t=0;t<re.length;t+=1)re[t].c();w=l("line"),_=l("line");for(let t=0;t<ae.length;t+=1)ae[t].c();R=l("path"),O=l("path"),Y=l("text"),G=i("Has Pool?"),N=l("text"),Q=i("House Price (USD)"),X=l("text"),Z=i("House Price vs Pool (Binary)"),st=s(),lt=n("br"),rt=s(),it=n("p"),at=n("span"),at.textContent="Example:",ct=n("br"),dt=s(),ht=new a(!1),mt=s(),ft=n("br"),pt=s(),ut=n("p"),gt=n("span"),gt.textContent="Interpretation",xt=i(": This model summarizes the difference\n  in average housing prices between houses without swimming pools ("),bt=n("span"),yt=i(") and houses with swimming pools ("),vt=n("span"),wt=i(").\n  "),$t=n("br"),kt=n("br"),jt=i(" The intercept, "),Mt=i(Nt),Tt=i(", is the average\n  predicted price for houses that do not have swimming pools (to see this,\n  simply set "),Ht=new a(!1),_t=i(" to 0 and solve the equation). \n  To find the average price predicted price for houses with pools, we simply plug \n  in "),Bt=new a(!1),Ct=i(" to obtain \n  "),Pt=i(Xt),It=i(" + "),qt=i(Zt),Et=i(" * 1 = "),Lt=i(te),Rt=i(".\n\n  "),St=n("br"),Wt=n("br"),zt=i("The difference between these two subpopulation means is equal to\n  the coefficient on "),At=new a(!1),Dt=i(". It tells us that houses\n  with pools cost "),Ft=i(oe),Ot=i(" more on average than houses\n  that do not have pools."),Ut=n("sup"),Yt=n("span"),Yt.textContent="[â„¹]",c(e,"class","tab-text"),c(w,"class","axis-line"),c(w,"y1",M=t[3]-t[2].bottom),c(w,"y2",T=t[3]-t[2].bottom),c(w,"x1",H=t[2].left),c(w,"x2",t[4]),c(w,"stroke","black"),c(w,"stroke-width","1"),c(_,"class","axis-line"),c(_,"y1",B=t[2].top),c(_,"y2",C=t[3]-t[2].bottom),c(_,"x1",P=t[2].left),c(_,"x2",I=t[2].left),c(_,"stroke","black"),c(_,"stroke-width","1"),c(R,"class","outline-line svelte-1173fdn"),c(R,"d",A=t[5](t[9])),c(O,"class","path-line svelte-1173fdn"),c(O,"d",U=t[5](t[9])),c(O,"stroke","#c9208a"),c(Y,"class","interpretation-axis-label svelte-1173fdn"),c(Y,"y",J=t[3]+t[2].bottom/2),c(Y,"x",K=(t[4]+t[2].left)/2),c(Y,"text-anchor","middle"),c(N,"class","interpretation-axis-label svelte-1173fdn"),c(N,"y",10),c(N,"x",V=-t[3]/2),c(N,"text-anchor","middle"),c(N,"transform","rotate(-90)"),c(X,"class","interpretation-title svelte-1173fdn"),c(X,"y",tt=t[2].top/2),c(X,"x",et=t[2].left),c(y,"width",t[4]),c(y,"height",ot=t[3]+t[2].top+t[2].bottom),c(b,"id","scatter-chart"),c(b,"class","svelte-1173fdn"),d((()=>t[10].call(b))),c(at,"class","bold"),ht.a=null,c(it,"class","tab-text"),c(gt,"class","bold"),c(bt,"class","dot-without svelte-1173fdn"),c(vt,"class","dot-with svelte-1173fdn"),Ht.a=_t,Bt.a=Ct,At.a=Dt,c(Yt,"class","info-tooltip"),c(Yt,"title","You may see categorical features in regression models with more than two\n    possible outcomes. These multi-level categorical features are often called indicator,\n    or dummy, variables. Special attention should be taken when interpreting indicator\n    variables as any interpretation is dependent on the baseline category used in the\n    model."),c(ut,"class","tab-text")},m(n,s){h(n,e,s),h(n,o,s),h(n,b,s),m(b,y);for(let t=0;t<se.length;t+=1)se[t].m(y,null);m(y,v);for(let t=0;t<re.length;t+=1)re[t].m(y,null);m(y,w),m(y,_);for(let t=0;t<ae.length;t+=1)ae[t].m(y,null);m(y,R),m(y,O),m(y,Y),m(Y,G),m(y,N),m(N,Q),m(y,X),m(X,Z),nt=f(b,t[10].bind(b)),h(n,st,s),h(n,lt,s),h(n,rt,s),h(n,it,s),m(it,at),m(it,ct),m(it,dt),ht.m(Kt,it),h(n,mt,s),h(n,ft,s),h(n,pt,s),h(n,ut,s),m(ut,gt),m(ut,xt),m(ut,bt),m(ut,yt),m(ut,vt),m(ut,wt),m(ut,$t),m(ut,kt),m(ut,jt),m(ut,Mt),m(ut,Tt),Ht.m(Qt,ut),m(ut,_t),Bt.m(Vt,ut),m(ut,Ct),m(ut,Pt),m(ut,It),m(ut,qt),m(ut,Et),m(ut,Lt),m(ut,Rt),m(ut,St),m(ut,Wt),m(ut,zt),At.m(ee,ut),m(ut,Dt),m(ut,Ft),m(ut,Ot),m(ut,Ut),m(Ut,Yt),Gt||(Jt=p(k.call(null,Yt)),Gt=!0)},p(t,[e]){if(14&e){let o;for(ne=t[1].ticks(),o=0;o<ne.length;o+=1){const n=L(t,ne,o);se[o]?se[o].p(n,e):(se[o]=S(n),se[o].c(),se[o].m(y,v))}for(;o<se.length;o+=1)se[o].d(1);se.length=ne.length}if(469&e){let o;for(le=t[0].ticks(),o=0;o<le.length;o+=1){const n=E(t,le,o);re[o]?re[o].p(n,e):(re[o]=W(n),re[o].c(),re[o].m(y,w))}for(;o<re.length;o+=1)re[o].d(1);re.length=le.length}if(12&e&&M!==(M=t[3]-t[2].bottom)&&c(w,"y1",M),12&e&&T!==(T=t[3]-t[2].bottom)&&c(w,"y2",T),4&e&&H!==(H=t[2].left)&&c(w,"x1",H),16&e&&c(w,"x2",t[4]),4&e&&B!==(B=t[2].top)&&c(_,"y1",B),12&e&&C!==(C=t[3]-t[2].bottom)&&c(_,"y2",C),4&e&&P!==(P=t[2].left)&&c(_,"x1",P),4&e&&I!==(I=t[2].left)&&c(_,"x2",I),3&e){let o;for(ie=j,o=0;o<ie.length;o+=1){const n=q(t,ie,o);ae[o]?ae[o].p(n,e):(ae[o]=z(n),ae[o].c(),ae[o].m(y,R))}for(;o<ae.length;o+=1)ae[o].d(1);ae.length=ie.length}32&e&&A!==(A=t[5](t[9]))&&c(R,"d",A),32&e&&U!==(U=t[5](t[9]))&&c(O,"d",U),12&e&&J!==(J=t[3]+t[2].bottom/2)&&c(Y,"y",J),20&e&&K!==(K=(t[4]+t[2].left)/2)&&c(Y,"x",K),8&e&&V!==(V=-t[3]/2)&&c(N,"x",V),4&e&&tt!==(tt=t[2].top/2)&&c(X,"y",tt),4&e&&et!==(et=t[2].left)&&c(X,"x",et),16&e&&c(y,"width",t[4]),12&e&&ot!==(ot=t[3]+t[2].top+t[2].bottom)&&c(y,"height",ot)},i:u,o:u,d(t){t&&g(e),t&&g(o),t&&g(b),x(se,t),x(re,t),x(ae,t),nt(),t&&g(st),t&&g(lt),t&&g(rt),t&&g(it),t&&g(mt),t&&g(ft),t&&g(pt),t&&g(ut),Gt=!1,Jt()}}}const D=172892.6,F=241582.4;function O(t,e,o){let n,s,l,r,i,a,c;b(t,M,(t=>o(2,r=t))),b(t,T,(t=>o(3,i=t))),b(t,H,(t=>o(4,a=t))),b(t,_,(t=>o(6,c=t))),y((()=>{const t=document.getElementById("scatter-chart-cf").getBoundingClientRect();v(H,a=0==a?t.width:a,a),v(T,i=0==i?t.height:i,i)}));const d=B("$,"),h=B("$.3s"),m=[{x:0,y:0*F+D},{x:1,y:1*F+D}];return t.$$.update=()=>{20&t.$$.dirty&&o(1,n=C().domain([-.5,1.5]).range([r.left,a-r.right])),12&t.$$.dirty&&o(0,s=C().domain([0,P(j,(t=>t.price))]).range([i-r.bottom,r.top])),3&t.$$.dirty&&o(5,l=I().x((t=>n(t.x))).y((t=>s(t.y))))},[s,n,r,i,a,l,c,d,h,m,function(){a=this.offsetWidth,H.set(a),i=this.offsetHeight,T.set(i)}]}class U extends t{constructor(t){super(),e(this,t,O,A,o,{})}}export{U as default};
