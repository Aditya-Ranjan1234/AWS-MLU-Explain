import{SvelteComponent as t,init as e,safe_not_equal as o,element as s,space as n,svg_element as l,empty as r,text as a,HtmlTag as i,attr as c,add_render_callback as h,insert as d,append as f,add_resize_listener as m,action_destroyer as u,noop as p,detach as x,destroy_each as y,component_subscribe as w,set_data as g}from"../../node_modules/svelte/internal/index.mjs.js";import b from"../katexify.js";import{tooltip as v}from"../tooltip.js";import{interpretationData as $}from"../datasets.js";import{margin as k,mobile as q}from"../store.js";import{format as M}from"../../node_modules/d3-format/src/defaultLocale.js";import j from"../../node_modules/d3-array/src/max.js";import z from"../../node_modules/d3-scale/src/linear.js";import T from"../../node_modules/d3-shape/src/line.js";function _(t,e,o){const s=t.slice();return s[14]=e[o],s}function C(t,e,o){const s=t.slice();return s[17]=e[o],s[19]=o,s}function H(t,e,o){const s=t.slice();return s[17]=e[o],s}function I(t){let e,o,s,n,r,i,h=t[17]+"";return{c(){e=l("g"),o=l("line"),n=l("text"),r=a(h),c(o,"class","grid-line svelte-uw7yst"),c(o,"x1","0"),c(o,"x2","0"),c(o,"y1","0"),c(o,"y2",s=-t[0]+t[4].bottom+t[4].top),c(o,"stroke","black"),c(o,"stroke-dasharray","4"),c(n,"class","axis-text svelte-uw7yst"),c(n,"y","15"),c(n,"text-anchor","middle"),c(e,"transform",i=`translate(${t[3](t[17])+0} ${t[0]-t[4].bottom})`)},m(t,s){d(t,e,s),f(e,o),f(e,n),f(n,r)},p(t,n){17&n&&s!==(s=-t[0]+t[4].bottom+t[4].top)&&c(o,"y2",s),8&n&&h!==(h=t[17]+"")&&g(r,h),25&n&&i!==(i=`translate(${t[3](t[17])+0} ${t[0]-t[4].bottom})`)&&c(e,"transform",i)},d(t){t&&x(e)}}}function W(t){let e,o,s,n,r=t[19]%2==0&&function(t){let e,o,s=(t[6]?t[8](t[17]):t[7](t[17]))+"";return{c(){e=l("text"),o=a(s),c(e,"class","axis-text svelte-uw7yst"),c(e,"y","0"),c(e,"text-anchor","end"),c(e,"dominant-baseline","middle")},m(t,s){d(t,e,s),f(e,o)},p(t,e){68&e&&s!==(s=(t[6]?t[8](t[17]):t[7](t[17]))+"")&&g(o,s)},d(t){t&&x(e)}}}(t);return{c(){e=l("g"),o=l("line"),r&&r.c(),c(o,"class","grid-line svelte-uw7yst"),c(o,"x1",5),c(o,"x2",s=t[1]-t[4].right),c(o,"y1","0"),c(o,"y2","0"),c(o,"stroke","black"),c(o,"stroke-dasharray","4"),c(e,"transform",n=`translate(${t[4].left-5} ${t[2](t[17])+0})`)},m(t,s){d(t,e,s),f(e,o),r&&r.m(e,null)},p(t,l){18&l&&s!==(s=t[1]-t[4].right)&&c(o,"x2",s),t[19]%2==0&&r.p(t,l),20&l&&n!==(n=`translate(${t[4].left-5} ${t[2](t[17])+0})`)&&c(e,"transform",n)},d(t){t&&x(e),r&&r.d()}}}function F(t){let e,o,s;return{c(){e=l("circle"),c(e,"class","interpretation-circle svelte-uw7yst"),c(e,"r","4.5"),c(e,"cx",o=t[3](t[14].sqft)),c(e,"cy",s=t[2](t[14].price)),c(e,"fill",0===t[14].pool?"#ff9900":"#003181")},m(t,o){d(t,e,o)},p(t,n){8&n&&o!==(o=t[3](t[14].sqft))&&c(e,"cx",o),4&n&&s!==(s=t[2](t[14].price))&&c(e,"cy",s)},d(t){t&&x(e)}}}function L(t){let e,o,w,g,k,q,M,j,z,T,L,B,E,N,P,S,D,G,J,K,O,Q,U,V,X,Y,Z,tt,et,ot,st,nt,lt,rt,at,it,ct,ht,dt,ft,mt,ut,pt,xt,yt,wt,gt,bt,vt,$t,kt,qt,Mt,jt,zt,Tt,_t,Ct,Ht,It,Wt,Ft,Lt,Rt,At,Bt,Et,Nt,Pt,St,Dt,Gt,Jt,Kt,Ot,Qt,Ut,Vt,Xt,Yt,Zt,te,ee,oe,se,ne,le,re,ae,ie,ce,he,de,fe,me,ue,pe,xe,ye,we,ge,be,ve=b(`\\begin{aligned} \\text{house price} = ${Math.round(t[9])} + ${Math.round(R)} *sqft + ${Math.round(A)} * pool \\end{aligned}`,!1)+"",$e=b("sqft",!1)+"",ke=b("pool",!1)+"",qe=t[7](Math.round(t[9]))+"",Me=b("x_i = 0",!1)+"",je=b("pool",!1)+"",ze=t[7](Math.round(A))+"",Te=b("sqft",!1)+"",_e=t[7](Math.round(A))+"",Ce=b("sqft",!1)+"",He=t[7](Math.round(R))+"",Ie=b("pool",!1)+"",We=b("sqft",!1)+"",Fe=t[3].ticks(),Le=[];for(let e=0;e<Fe.length;e+=1)Le[e]=I(H(t,Fe,e));let Re=t[2].ticks(),Ae=[];for(let e=0;e<Re.length;e+=1)Ae[e]=W(C(t,Re,e));let Be=$,Ee=[];for(let e=0;e<Be.length;e+=1)Ee[e]=F(_(t,Be,e));return{c(){e=s("p"),e.innerHTML='<span class="interpretation-header">A Multivariate Regression Model</span>',o=n(),w=s("div"),g=l("svg");for(let t=0;t<Le.length;t+=1)Le[t].c();k=r();for(let t=0;t<Ae.length;t+=1)Ae[t].c();q=l("line"),T=l("line");for(let t=0;t<Ee.length;t+=1)Ee[t].c();P=l("path"),D=l("path"),J=l("path"),O=l("path"),U=l("text"),V=a("Home Size (sqft)"),Z=l("text"),tt=a("House Price ($)"),ot=l("text"),st=a("Regression Model With Two Features"),it=n(),ct=s("br"),ht=n(),dt=s("p"),ft=s("span"),ft.textContent="Example:",mt=s("br"),ut=n(),pt=new i(!1),xt=n(),yt=s("br"),wt=n(),gt=s("p"),bt=s("span"),bt.textContent="Interpretation",vt=a(": Typically, a regression model will\n  contain more than one feature. We call this a\n  "),$t=s("i"),$t.textContent="multivariate regression model",kt=a(". In our example, we model home prices as\n  a function of both the size of the house ("),qt=new i(!1),Mt=a(") and\n  whether or not it has a pool ("),jt=new i(!1),zt=a(", where\n  "),Tt=s("span"),_t=a(" = no pool and "),Ct=s("span"),Ht=a(" = has a\n  pool).\n  "),It=s("br"),Wt=s("br"),Ft=a("The intercept, "),Lt=a(qe),Rt=a(", represents the\n  predicted average housing price for houses with all "),At=new i(!1),Bt=a(". For our model, it represents the cost of houses with no pools and a\n  square-footage of zero."),Et=s("sup"),Nt=s("span"),Nt.textContent="[â„¹]",Pt=n(),St=s("br"),Dt=s("br"),Gt=a(" The coefficient of "),Jt=new i(!1),Kt=a(", "),Ot=a(ze),Qt=a(", represents the average expected price difference in houses of the same size (in\n  "),Ut=new i(!1),Vt=a(") if they do or do not have a pool. In other words, we expect, on average, \n  houses of the same size to cost "),Xt=a(_e),Yt=a(" more if they have a pool than if they do not.\n\n  "),Zt=s("br"),te=s("br"),ee=a("The coefficient of "),oe=new i(!1),se=a(", "),ne=a(He),le=a(", represents the average expected price difference in housing price for houses\n  that have the same value of "),re=new i(!1),ae=a(" but differ in size\n  by one square-foot.\n  "),ie=s("br"),ce=s("br"),he=a("\n  Note that, regardless of whether or not a house has a pool ("),de=s("span"),fe=a(") or not ("),me=s("span"),ue=a("), we assume the\n  "),pe=s("i"),pe.textContent="same",xe=a("\n  slope for "),ye=new i(!1),we=a(". To visualize this, we show two\n  lines above. This isn't always a valid assumption to make, and when we think \n  those subpopulations should have different slopes, we can use interaction terms."),c(e,"class","tab-text"),c(q,"class","axis-line"),c(q,"y1",M=t[0]-t[4].bottom),c(q,"y2",j=t[0]-t[4].bottom),c(q,"x1",z=t[4].left),c(q,"x2",t[1]),c(q,"stroke","black"),c(q,"stroke-width","1"),c(T,"class","axis-line"),c(T,"y1",L=t[4].top),c(T,"y2",B=t[0]-t[4].bottom),c(T,"x1",E=t[4].left),c(T,"x2",N=t[4].left),c(T,"stroke","black"),c(T,"stroke-width","1"),c(P,"class","outline-line svelte-uw7yst"),c(P,"d",S=t[5](t[10])),c(D,"class","path-line-sqft svelte-uw7yst"),c(D,"d",G=t[5](t[10])),c(J,"class","outline-line svelte-uw7yst"),c(J,"d",K=t[5](t[11])),c(O,"class","path-line-pool svelte-uw7yst"),c(O,"d",Q=t[5](t[11])),c(U,"class","interpretation-axis-label svelte-uw7yst"),c(U,"y",X=t[0]+t[4].bottom/2),c(U,"x",Y=(t[1]+t[4].left)/2),c(U,"text-anchor","middle"),c(Z,"class","interpretation-axis-label svelte-uw7yst"),c(Z,"y",10),c(Z,"x",et=-t[0]/2),c(Z,"text-anchor","middle"),c(Z,"transform","rotate(-90)"),c(ot,"class","interpretation-title svelte-uw7yst"),c(ot,"y",nt=t[4].top/2),c(ot,"x",lt=t[4].left),c(g,"width",t[1]),c(g,"height",rt=t[0]+t[4].top+t[4].bottom),c(w,"id","scatter-chart"),c(w,"class","svelte-uw7yst"),h((()=>t[12].call(w))),c(ft,"class","bold"),pt.a=null,c(dt,"class","tab-text"),c(bt,"class","bold"),qt.a=Mt,jt.a=zt,c(Tt,"class","dot-without svelte-uw7yst"),c(Ct,"class","dot-with svelte-uw7yst"),At.a=Bt,c(Nt,"class","info-tooltip"),c(Nt,"title","Because this value doesn't make much intuitive sense, it's common for models to be transformed and standardized before carrying out a regression model."),Jt.a=Kt,Ut.a=Vt,oe.a=se,re.a=ae,c(de,"class","line-with svelte-uw7yst"),c(me,"class","line-without svelte-uw7yst"),ye.a=we,c(gt,"class","tab-text")},m(s,n){d(s,e,n),d(s,o,n),d(s,w,n),f(w,g);for(let t=0;t<Le.length;t+=1)Le[t].m(g,null);f(g,k);for(let t=0;t<Ae.length;t+=1)Ae[t].m(g,null);f(g,q),f(g,T);for(let t=0;t<Ee.length;t+=1)Ee[t].m(g,null);f(g,P),f(g,D),f(g,J),f(g,O),f(g,U),f(U,V),f(g,Z),f(Z,tt),f(g,ot),f(ot,st),at=m(w,t[12].bind(w)),d(s,it,n),d(s,ct,n),d(s,ht,n),d(s,dt,n),f(dt,ft),f(dt,mt),f(dt,ut),pt.m(ve,dt),d(s,xt,n),d(s,yt,n),d(s,wt,n),d(s,gt,n),f(gt,bt),f(gt,vt),f(gt,$t),f(gt,kt),qt.m($e,gt),f(gt,Mt),jt.m(ke,gt),f(gt,zt),f(gt,Tt),f(gt,_t),f(gt,Ct),f(gt,Ht),f(gt,It),f(gt,Wt),f(gt,Ft),f(gt,Lt),f(gt,Rt),At.m(Me,gt),f(gt,Bt),f(gt,Et),f(Et,Nt),f(gt,Pt),f(gt,St),f(gt,Dt),f(gt,Gt),Jt.m(je,gt),f(gt,Kt),f(gt,Ot),f(gt,Qt),Ut.m(Te,gt),f(gt,Vt),f(gt,Xt),f(gt,Yt),f(gt,Zt),f(gt,te),f(gt,ee),oe.m(Ce,gt),f(gt,se),f(gt,ne),f(gt,le),re.m(Ie,gt),f(gt,ae),f(gt,ie),f(gt,ce),f(gt,he),f(gt,de),f(gt,fe),f(gt,me),f(gt,ue),f(gt,pe),f(gt,xe),ye.m(We,gt),f(gt,we),ge||(be=u(v.call(null,Nt)),ge=!0)},p(t,[e]){if(25&e){let o;for(Fe=t[3].ticks(),o=0;o<Fe.length;o+=1){const s=H(t,Fe,o);Le[o]?Le[o].p(s,e):(Le[o]=I(s),Le[o].c(),Le[o].m(g,k))}for(;o<Le.length;o+=1)Le[o].d(1);Le.length=Fe.length}if(470&e){let o;for(Re=t[2].ticks(),o=0;o<Re.length;o+=1){const s=C(t,Re,o);Ae[o]?Ae[o].p(s,e):(Ae[o]=W(s),Ae[o].c(),Ae[o].m(g,q))}for(;o<Ae.length;o+=1)Ae[o].d(1);Ae.length=Re.length}if(17&e&&M!==(M=t[0]-t[4].bottom)&&c(q,"y1",M),17&e&&j!==(j=t[0]-t[4].bottom)&&c(q,"y2",j),16&e&&z!==(z=t[4].left)&&c(q,"x1",z),2&e&&c(q,"x2",t[1]),16&e&&L!==(L=t[4].top)&&c(T,"y1",L),17&e&&B!==(B=t[0]-t[4].bottom)&&c(T,"y2",B),16&e&&E!==(E=t[4].left)&&c(T,"x1",E),16&e&&N!==(N=t[4].left)&&c(T,"x2",N),12&e){let o;for(Be=$,o=0;o<Be.length;o+=1){const s=_(t,Be,o);Ee[o]?Ee[o].p(s,e):(Ee[o]=F(s),Ee[o].c(),Ee[o].m(g,P))}for(;o<Ee.length;o+=1)Ee[o].d(1);Ee.length=Be.length}32&e&&S!==(S=t[5](t[10]))&&c(P,"d",S),32&e&&G!==(G=t[5](t[10]))&&c(D,"d",G),32&e&&K!==(K=t[5](t[11]))&&c(J,"d",K),32&e&&Q!==(Q=t[5](t[11]))&&c(O,"d",Q),17&e&&X!==(X=t[0]+t[4].bottom/2)&&c(U,"y",X),18&e&&Y!==(Y=(t[1]+t[4].left)/2)&&c(U,"x",Y),1&e&&et!==(et=-t[0]/2)&&c(Z,"x",et),16&e&&nt!==(nt=t[4].top/2)&&c(ot,"y",nt),16&e&&lt!==(lt=t[4].left)&&c(ot,"x",lt),2&e&&c(g,"width",t[1]),17&e&&rt!==(rt=t[0]+t[4].top+t[4].bottom)&&c(g,"height",rt)},i:p,o:p,d(t){t&&x(e),t&&x(o),t&&x(w),y(Le,t),y(Ae,t),y(Ee,t),at(),t&&x(it),t&&x(ct),t&&x(ht),t&&x(dt),t&&x(xt),t&&x(yt),t&&x(wt),t&&x(gt),ge=!1,be()}}}const R=756.9,A=51866.7;function B(t,e,o){let s,n,l,r,a;w(t,k,(t=>o(4,r=t))),w(t,q,(t=>o(6,a=t)));const i=M("$,"),c=M("$.3s");let h=500,d=500;const f=j($,(t=>t.sqft)),m=-27153.8,u=[{x:43,y:43*R+m},{x:f,y:f*R+m}],p=[{x:0,y:0*R+A+m},{x:f,y:f*R+A+m}];return t.$$.update=()=>{18&t.$$.dirty&&o(3,s=z().domain([0,f]).range([r.left,d-r.right])),17&t.$$.dirty&&o(2,n=z().domain([0,j($,(t=>t.price))]).range([h-r.bottom,r.top])),12&t.$$.dirty&&o(5,l=T().x((t=>s(t.x))).y((t=>n(t.y))))},[h,d,n,s,r,l,a,i,c,m,u,p,function(){d=this.offsetWidth,h=this.offsetHeight,o(1,d),o(0,h)}]}class E extends t{constructor(t){super(),e(this,t,B,L,o,{})}}export{E as default};
